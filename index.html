<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>負數加減｜數線練功房</title>
<meta name="theme-color" content="#7c5cff">
<style>
  :root{
    --bg:#fff8fb; --card:#ffffff; --primary:#7c5cff; --accent:#ff82b1;
    --ink:#222; --muted:#6b7280; --good:#17b26a; --bad:#ef4444; --chip:#f7f7ff;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font-family:"Noto Sans TC",system-ui,-apple-system,Segoe UI,Roboto,"PingFang TC","Microsoft JhengHei",sans-serif;
    background:linear-gradient(180deg,var(--bg),#f8fbff); color:var(--ink); -webkit-tap-highlight-color:transparent;
  }
  .hidden{display:none !important}

  /* compact header */
  header{display:flex;align-items:center;justify-content:space-between;padding:6px 10px;position:sticky;top:0;
    background:rgba(255,255,255,.9);backdrop-filter:blur(6px);border-bottom:1px solid #eee;z-index:10}
  .brand{display:flex;align-items:center;gap:8px}
  .logo{width:26px;height:26px;border-radius:8px;display:grid;place-items:center;
    background:radial-gradient(circle at 30% 30%,#ffd9e8,#d9e4ff);box-shadow:0 6px 16px rgba(124,92,255,.25) inset;font-size:14px}
  h1{font-size:14px;line-height:1;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
  button{cursor:pointer;border:none;padding:10px 14px;border-radius:12px;font-weight:700;background:var(--primary);color:#fff;box-shadow:0 6px 16px rgba(124,92,255,.25)}
  button.ghost{background:#f2f2ff;color:#4b4bb5;box-shadow:none}
  button.flat{background:#efefef;color:#333;box-shadow:none}
  button:active{transform:translateY(1px)}

  /* layout */
  .layout{display:grid;grid-template-columns:1fr;gap:10px;padding:10px;max-width:720px;margin:0 auto}
  .card{background:var(--card);border:1px solid #eee;border-radius:14px;padding:12px;box-shadow:0 10px 20px rgba(0,0,0,.04)}
  .mode-tabs{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:8px;justify-content:center}
  .mode-tabs button{background:#ffeefe;color:#7b3a6a;padding:8px 10px;border-radius:10px}
  .mode-tabs button.active{background:var(--accent);color:#fff}

  .scorebar{display:grid;grid-template-columns:repeat(4,1fr);gap:6px;margin-bottom:6px}
  .chip{background:var(--chip);border:1px dashed #d7d7ff;border-radius:10px;padding:6px;text-align:center;font-weight:800;color:#4b4bb5;fon
